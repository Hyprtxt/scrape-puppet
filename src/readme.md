https://api-g.weedmaps.com/discovery/v2/listings?filter%5Bplural_types%5D%5B%5D=dispensaries&filter%5Bplus_only%5D=true&filter%5Bunique_by%5D=menu_id&include%5B%5D=listings.taxonomy&page_size=25&sort_by=position&sort_order=asc


https://api-g.weedmaps.com/discovery/v2/listings?filter%5Bplural_types%5D%5B%5D=dispensaries&filter%5Bplus_only%5D=true&filter%5Bunique_by%5D=menu_id&include%5B%5D=listings.taxonomy&page_size=25&sort_by=position&sort_order=asc

https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&filter[unique_by]=menu_id&include[]=listings.taxonomy&page_size=150&sort_by=position&sort_order=asc&page=1
https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&filter[unique_by]=menu_id&include[]=listings.taxonomy&page_size=150&sort_by=position&sort_order=asc&page=2

https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&filter[unique_by]=menu_id&page_size=150&sort_by=position&sort_order=asc&page=1


https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&page_size=150&sort_by=position&sort_order=asc&page=3


2501 (Plus Only)
https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&page_size=150&sort_by=position&sort_order=asc&page=1

https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&page_size=150&sort_by=position&sort_order=asc&page=1

https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&filter[state]=Arizona&page_size=150&sort_by=position&sort_order=asc&page=1


7936 (ALL)
https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&page_size=150&sort_by=position&sort_order=asc&page=3

```

// const util = require("util");
// const chalk = require("chalk");
// const getPaginationOffsets = require("./functions/getPaginationOffsets");

// const PoliteRequest = require("./functions/PoliteRequest");

// // const MongoClient = new require("mongodb").MongoClient(
// //   "mongodb://localhost:27017",
// //   {
// //     useNewUrlParser: true,
// //     useUnifiedTopology: true
// //   }
// // );

// const PAGE_SIZE = 100;
// const HOW_POLITE_DELAY = 500;

// const sleep = util.promisify(setTimeout);
// const fancyRequest = new PoliteRequest(HOW_POLITE_DELAY).get;

// console.log(`Hello ${process.env.LOGNAME}`);

// process.on("unhandledrejection", event => {
//   // Prevent error output on the console:
//   event.preventDefault();
//   console.log("Reason: " + event.reason);
// });

// const getCountFrom = `https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&page_size=150&sort_by=position&sort_order=asc`

// const data = async function () {
//   let waitForIt;
//   try {
//     waitForIt = await fancyRequest(getCountFrom);
//     return waitForIt;
//   } catch (err) {
//     console.error(err);
//   }
// }

// // (async () => {
// //   const connection = await MongoClient.connect();
// //   console.log( data() );
// //   await connection.close();
// //   return console.log(chalk.bgBlue.white("ðŸŒ¿ All Done! ðŸŒ¿"));
// // })();

// // console.log( data )



// // fetch(getCountFrom, {
// //   method: 'GET',
// // }).then(response => response.json())
// // .then(data => console.log(data));

// // const endpoint = `https://api-g.weedmaps.com/discovery/v2/listings?filter[plural_types][]=dispensaries&filter[plus_only]=true&page_size=150&sort_by=position&sort_order=asc&page=1`

```